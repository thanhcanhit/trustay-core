flowchart TD
    A[Booking Approved] --> B[Try Create Rental]
    B --> C{Rental Created?}
    
    C -->|Success| D[Try Create Contract]
    C -->|Fail| E[Log Error - Continue with Approval]
    
    D --> F{Contract Created?}
    F -->|Success| G[Complete Success]
    F -->|Fail| H[Log Error - Rental Exists]
    
    E --> I[Booking Approved Without Rental]
    H --> J[Booking Approved With Rental Only]
    G --> K[Booking Approved With Rental & Contract]
    
    style G fill:#90EE90
    style K fill:#90EE90
    style E fill:#FFB347
    style H fill:#FFB347

