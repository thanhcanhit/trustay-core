[
  {
    "question": "Tìm cho tôi các phòng trọ ở Quận 9 giá dưới 3 triệu",
    "sql": "SELECT b.name AS building_name, rm.name AS room_type_name, ri.room_number, rp.base_price_monthly\nFROM rooms rm\nJOIN buildings b ON b.id = rm.building_id\nJOIN districts d ON d.id = b.district_id\nJOIN room_pricing rp ON rp.room_id = rm.id\nJOIN room_instances ri ON ri.room_id = rm.id\nWHERE d.district_name ILIKE '%Quận 9%'\n  AND rp.base_price_monthly < 3000000\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Có phòng nào dạng Sleepbox gần khu Công nghệ cao không?",
    "sql": "SELECT b.name AS building_name, ri.room_number, rp.base_price_monthly\nFROM rooms rm\nJOIN buildings b ON b.id = rm.building_id\nJOIN districts d ON d.id = b.district_id\nJOIN room_pricing rp ON rp.room_id = rm.id\nJOIN room_instances ri ON ri.room_id = rm.id\nWHERE rm.room_type = 'sleepbox'\n  AND (d.district_name ILIKE '%công nghệ cao%' OR b.address_line_1 ILIKE '%công nghệ cao%' OR b.name ILIKE '%công nghệ cao%')\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Liệt kê các phòng cho phép nuôi thú cưng",
    "sql": "SELECT b.name AS building_name, ri.room_number, rm.name AS room_name\nFROM room_rules rr\nJOIN room_rule_templates rrt ON rrt.id = rr.rule_template_id\nJOIN rooms rm ON rm.id = rr.room_id\nJOIN buildings b ON b.id = rm.building_id\nJOIN room_instances ri ON ri.room_id = rm.id\nWHERE rrt.category = 'pets'\n  AND rr.is_enforced = TRUE\n  AND rrt.rule_type = 'allowed'\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Tìm phòng có máy lạnh và máy nước nóng",
    "sql": "SELECT DISTINCT b.name AS building_name, ri.room_number\nFROM rooms rm\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nJOIN room_amenities ra1 ON ra1.room_id = rm.id\nJOIN amenities a1 ON a1.id = ra1.amenity_id\nJOIN room_amenities ra2 ON ra2.room_id = rm.id\nJOIN amenities a2 ON a2.id = ra2.amenity_id\nWHERE a1.name ILIKE '%máy lạnh%'\n  AND a2.name ILIKE '%nước nóng%'\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Có căn hộ chung cư mini nào còn trống ở Quận 7 không?",
    "sql": "SELECT b.name AS building_name, ri.room_number, rp.base_price_monthly\nFROM rooms rm\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nJOIN districts d ON d.id = b.district_id\nJOIN room_pricing rp ON rp.room_id = rm.id\nWHERE rm.room_type = 'apartment'\n  AND d.district_name ILIKE '%Quận 7%'\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Tôi muốn tìm phòng có ban công và cửa sổ thoáng mát",
    "sql": "SELECT DISTINCT b.name AS building_name, ri.room_number\nFROM rooms rm\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nJOIN room_amenities ra1 ON ra1.room_id = rm.id\nJOIN amenities a1 ON a1.id = ra1.amenity_id\nJOIN room_amenities ra2 ON ra2.room_id = rm.id\nJOIN amenities a2 ON a2.id = ra2.amenity_id\nWHERE a1.name ILIKE '%ban công%'\n  AND a2.name ILIKE '%cửa sổ%'\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Tìm các phòng trọ giờ giấc tự do không curfew",
    "sql": "SELECT b.name AS building_name, ri.room_number\nFROM room_rules rr\nJOIN room_rule_templates rrt ON rrt.id = rr.rule_template_id\nJOIN rooms rm ON rm.id = rr.room_id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nWHERE (rrt.name ILIKE '%giờ tự do%' OR rrt.name_en ILIKE '%curfew%' OR rr.custom_value ILIKE '%tự do%')\n  AND rr.is_enforced = TRUE\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Sắp xếp các phòng trọ ở Bình Thạnh theo giá từ thấp đến cao",
    "sql": "SELECT b.name AS building_name, ri.room_number, rp.base_price_monthly\nFROM rooms rm\nJOIN room_pricing rp ON rp.room_id = rm.id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nJOIN districts d ON d.id = b.district_id\nWHERE d.district_name ILIKE '%Bình Thạnh%'\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved')\nORDER BY rp.base_price_monthly ASC;"
  },
  {
    "question": "Có phòng nào miễn phí tiền gửi xe không?",
    "sql": "SELECT DISTINCT b.name AS building_name, ri.room_number, rm.name AS room_name\nFROM room_costs rc\nJOIN cost_type_templates ct ON ct.id = rc.cost_type_template_id\nJOIN rooms rm ON rm.id = rc.room_id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nWHERE ct.category = 'parking'\n  AND rc.is_active = TRUE\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved')\n  AND (rc.included_in_rent = TRUE OR COALESCE(rc.fixed_amount, 0) = 0);"
  },
  {
    "question": "Tìm phòng trọ dành cho nữ ở khu vực Cầu Giấy",
    "sql": "SELECT DISTINCT b.name AS building_name, ri.room_number, rm.name AS room_name\nFROM rooms rm\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nJOIN districts d ON d.id = b.district_id\nLEFT JOIN room_rules rr ON rr.room_id = rm.id\nLEFT JOIN room_rule_templates rrt ON rrt.id = rr.rule_template_id\nWHERE d.district_name ILIKE '%Cầu Giấy%'\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved')\n  AND (\n    (rrt.name ILIKE '%nữ%' OR rr.custom_value ILIKE '%nữ%')\n    OR (rm.description ILIKE '%nữ%')\n  );"
  },
  {
    "question": "Những phòng nào đang có ưu đãi giảm giá cọc dưới 1 tháng",
    "sql": "SELECT b.name AS building_name, ri.room_number, rp.base_price_monthly, rp.deposit_amount, rp.deposit_months\nFROM room_pricing rp\nJOIN rooms rm ON rm.id = rp.room_id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nWHERE rp.deposit_amount < rp.base_price_monthly\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Liệt kê các phòng có diện tích lớn hơn 30m2 cho gia đình nhỏ",
    "sql": "SELECT b.name AS building_name, ri.room_number, rm.area_sqm, rm.max_occupancy\nFROM rooms rm\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nWHERE rm.area_sqm > 30\n  AND rm.max_occupancy >= 3\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Tìm nhà nguyên căn có 3 phòng ngủ",
    "sql": "SELECT b.name AS building_name, rm.description, rm.total_rooms\nFROM rooms rm\nJOIN buildings b ON b.id = rm.building_id\nWHERE rm.room_type = 'whole_house'\n  AND rm.total_rooms >= 3\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE;"
  },
  {
    "question": "Phòng nào có bếp riêng trong phòng?",
    "sql": "SELECT DISTINCT b.name AS building_name, ri.room_number\nFROM room_amenities ra\nJOIN amenities a ON a.id = ra.amenity_id\nJOIN rooms rm ON rm.id = ra.room_id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nWHERE a.category = 'kitchen' AND (a.name ILIKE '%bếp%' OR a.name_en ILIKE '%kitchen%')\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Có phòng nào mới đăng trong 7 ngày qua không?",
    "sql": "SELECT b.name AS building_name, ri.room_number, rm.created_at\nFROM rooms rm\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nWHERE rm.created_at >= (current_date - INTERVAL '7 days')\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved')\nORDER BY rm.created_at DESC;"
  },
  {
    "question": "Tìm phòng có an ninh tốt, có camera giám sát hoặc bảo vệ",
    "sql": "SELECT DISTINCT b.name AS building_name, ri.room_number\nFROM room_amenities ra\nJOIN amenities a ON a.id = ra.amenity_id\nJOIN rooms rm ON rm.id = ra.room_id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nWHERE (a.name ILIKE '%camera%' OR a.name ILIKE '%bảo vệ%' OR a.category = 'safety')\n  AND b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\n  AND ri.status IN ('available', 'reserved');"
  },
  {
    "question": "Cho tôi xem các phòng được đánh giá 5 sao bởi những người thuê trước",
    "sql": "SELECT DISTINCT b.name AS building_name, ri.room_number, AVG(rt.rating) AS avg_rating\nFROM ratings rt\nJOIN rooms rm ON rm.id = rt.target_id AND rt.target_type = 'room'\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN buildings b ON b.id = rm.building_id\nWHERE b.is_active = TRUE\n  AND rm.is_active = TRUE\n  AND ri.is_active = TRUE\nGROUP BY b.name, ri.room_number\nHAVING AVG(rt.rating) >= 4.8;"
  },
  {
    "question": "Có ai đang tìm nam ở ghép tại Quận 10 không?",
    "sql": "SELECT rsp.id, rsp.title, rsp.monthly_rent, rsp.remaining_slots,\n       COALESCE(dext.district_name, dint.district_name) AS district_name\nFROM roommate_seeking_posts rsp\nLEFT JOIN districts dext ON dext.id = rsp.external_district_id\nLEFT JOIN room_instances ri ON ri.id = rsp.room_instance_id\nLEFT JOIN rooms rm ON rm.id = ri.room_id\nLEFT JOIN buildings b ON b.id = rm.building_id\nLEFT JOIN districts dint ON dint.id = b.district_id\nWHERE rsp.status = 'active'\n  AND rsp.is_active = TRUE\n  AND rsp.preferred_gender = 'male'\n  AND COALESCE(dext.district_name, dint.district_name) ILIKE '%Quận 10%';"
  },
  {
    "question": "Tìm các bài đăng tìm người ở ghép giá khoảng 1.5 triệu/người",
    "sql": "SELECT rsp.id, rsp.title, rsp.monthly_rent, rsp.remaining_slots,\n       (rsp.monthly_rent / NULLIF(rsp.max_occupancy,0)) AS estimated_per_person\nFROM roommate_seeking_posts rsp\nWHERE rsp.status = 'active'\n  AND rsp.is_active = TRUE\n  AND (rsp.monthly_rent / NULLIF(rsp.max_occupancy,0)) <= 1500000;"
  },
  {
    "question": "Phòng nào đang cần tìm người ở ghép nhưng không hút thuốc?",
    "sql": "SELECT rsp.id, rsp.title, rsp.remaining_slots, ri.room_number\nFROM roommate_seeking_posts rsp\nJOIN room_instances ri ON ri.id = rsp.room_instance_id\nJOIN rooms rm ON rm.id = ri.room_id\nJOIN room_rules rr ON rr.room_id = rm.id\nJOIN room_rule_templates rrt ON rrt.id = rr.rule_template_id\nWHERE rsp.status = 'active'\n  AND rsp.is_active = TRUE\n  AND rsp.remaining_slots > 0\n  AND rrt.category = 'smoking'\n  AND rrt.rule_type = 'forbidden';"
  },
  {
    "question": "Có bài đăng tìm roommate nào yêu cầu người đi làm công sở không?",
    "sql": "SELECT rsp.id, rsp.title, rsp.additional_requirements, rsp.monthly_rent\nFROM roommate_seeking_posts rsp\nWHERE rsp.status = 'active'\n  AND rsp.is_active = TRUE\n  AND (rsp.additional_requirements ILIKE '%đi làm%' OR rsp.additional_requirements ILIKE '%công sở%');"
  },
  {
    "question": "Tìm các phòng đang thiếu 1 slot ở ghép dạng Ký túc xá",
    "sql": "SELECT rsp.id, rsp.title, rsp.remaining_slots, ri.room_number\nFROM roommate_seeking_posts rsp\nJOIN room_instances ri ON ri.id = rsp.room_instance_id\nJOIN rooms rm ON rm.id = ri.room_id\nWHERE rsp.status = 'active'\n  AND rsp.is_active = TRUE\n  AND rsp.remaining_slots = 1\n  AND rm.room_type = 'dormitory';"
  },
  {
    "question": "Liệt kê các bài đăng tìm bạn cùng phòng vừa mới đăng hôm qua",
    "sql": "SELECT rsp.id, rsp.title, rsp.monthly_rent, rsp.created_at\nFROM roommate_seeking_posts rsp\nWHERE rsp.status = 'active'\n  AND rsp.is_active = TRUE\n  AND rsp.created_at::date = current_date - INTERVAL '1 day';"
  },
  {
    "question": "Phòng 301 có đang tuyển thêm người ở ghép không?",
    "sql": "SELECT rsp.id, rsp.title, rsp.remaining_slots, rsp.status\nFROM roommate_seeking_posts rsp\nJOIN room_instances ri ON ri.id = rsp.room_instance_id\nWHERE rsp.status = 'active'\n  AND rsp.is_active = TRUE\n  AND ri.room_number = '301';"
  },
  {
    "question": "Hóa đơn tiền nhà tháng này của tôi là bao nhiêu?",
    "sql": "SELECT bll.id, bll.total_amount, bll.paid_amount, bll.remaining_amount\nFROM bills bll\nJOIN rentals rnt ON rnt.id = bll.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND bll.billing_month = EXTRACT(MONTH FROM current_date)\n  AND bll.billing_year = EXTRACT(YEAR FROM current_date);"
  },
  {
    "question": "Cho tôi xem chi tiết tiền điện và tiền nước tháng 11",
    "sql": "SELECT bi.item_name, bi.amount, bll.billing_month, bll.billing_year\nFROM bill_items bi\nJOIN bills bll ON bll.id = bi.bill_id\nJOIN rentals rnt ON rnt.id = bll.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND bll.billing_month = 11\n  AND bi.item_type = 'utility'\n  AND (bi.item_name ILIKE '%điện%' OR bi.item_name ILIKE '%nước%');"
  },
  {
    "question": "Tôi còn nợ tiền phòng tháng nào chưa đóng không?",
    "sql": "SELECT bll.billing_period, bll.total_amount, bll.paid_amount, bll.remaining_amount, bll.status\nFROM bills bll\nJOIN rentals rnt ON rnt.id = bll.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND bll.remaining_amount > 0\n  AND bll.status IN ('pending', 'overdue');"
  },
  {
    "question": "Hạn chót thanh toán của hóa đơn tháng này là ngày mấy?",
    "sql": "SELECT bll.due_date\nFROM bills bll\nJOIN rentals rnt ON rnt.id = bll.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND bll.billing_month = EXTRACT(MONTH FROM current_date)\n  AND bll.billing_year = EXTRACT(YEAR FROM current_date);"
  },
  {
    "question": "Kiểm tra xem khoản chuyển khoản hôm qua của tôi đã được xác nhận chưa",
    "sql": "SELECT p.id, p.amount, p.payment_status, p.payment_date\nFROM payments p\nJOIN rentals rnt ON rnt.id = p.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND p.payment_method = 'bank_transfer'\n  AND p.payment_date::date = current_date - INTERVAL '1 day';"
  },
  {
    "question": "Tháng này tôi dùng hết bao nhiêu số điện?",
    "sql": "SELECT SUM(COALESCE(rimr.meter_reading,0) - COALESCE(rimr.last_meter_reading,0)) AS kwh_used\nFROM room_instance_meter_readings rimr\nJOIN room_costs rc ON rc.id = rimr.room_cost_id\nJOIN cost_type_templates ct ON ct.id = rc.cost_type_template_id\nJOIN room_instances ri ON ri.id = rimr.room_instance_id\nJOIN rentals rnt ON rnt.room_instance_id = ri.id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND ct.name ILIKE '%điện%'\n  AND date_trunc('month', rimr.created_at) = date_trunc('month', current_date);"
  },
  {
    "question": "So sánh tiền điện tháng này với tháng trước xem có tăng không",
    "sql": "WITH monthly AS (\n  SELECT date_trunc('month', rimr.created_at) AS month,\n         SUM(COALESCE(rimr.meter_reading,0) - COALESCE(rimr.last_meter_reading,0)) AS usage_kwh\n  FROM room_instance_meter_readings rimr\n  JOIN room_costs rc ON rc.id = rimr.room_cost_id\n  JOIN cost_type_templates ct ON ct.id = rc.cost_type_template_id\n  JOIN room_instances ri ON ri.id = rimr.room_instance_id\n  JOIN rentals rnt ON rnt.room_instance_id = ri.id\n  WHERE rnt.tenant_id = :tenant_id\n    AND rnt.status = 'active'\n    AND ct.name ILIKE '%điện%'\n    AND rimr.created_at >= date_trunc('month', current_date - INTERVAL '1 month')\n  GROUP BY month\n)\nSELECT curr.usage_kwh AS this_month_kwh, prev.usage_kwh AS last_month_kwh,\n       (curr.usage_kwh - prev.usage_kwh) AS diff_kwh\nFROM monthly curr\nLEFT JOIN monthly prev ON prev.month = date_trunc('month', current_date - INTERVAL '1 month')\nWHERE curr.month = date_trunc('month', current_date);"
  },
  {
    "question": "Giá điện hiện tại chủ nhà đang tính là bao nhiêu một số?",
    "sql": "SELECT rc.unit_price, rc.unit\nFROM rentals rnt\nJOIN room_instances ri ON ri.id = rnt.room_instance_id\nJOIN rooms rm ON rm.id = ri.room_id\nJOIN room_costs rc ON rc.room_id = rm.id\nJOIN cost_type_templates ct ON ct.id = rc.cost_type_template_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND ct.name ILIKE '%điện%'\n  AND rc.is_active = TRUE\nLIMIT 1;"
  },
  {
    "question": "Tổng số tiền tôi đã thanh toán cho chủ nhà từ đầu năm đến giờ",
    "sql": "SELECT COALESCE(SUM(p.amount),0) AS total_paid_ytd\nFROM payments p\nJOIN rentals rnt ON rnt.id = p.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND p.payment_status = 'completed'\n  AND p.payment_date >= date_trunc('year', current_date);"
  },
  {
    "question": "Tiền cọc của tôi đang được lưu là bao nhiêu?",
    "sql": "SELECT rnt.deposit_paid\nFROM rentals rnt\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active';"
  },
  {
    "question": "Khi nào hợp đồng thuê phòng của tôi hết hạn?",
    "sql": "SELECT c.contract_code, c.end_date\nFROM contracts c\nJOIN rentals rnt ON rnt.id = c.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND c.status IN ('active', 'fully_signed');"
  },
  {
    "question": "Tôi muốn xem lại các điều khoản về chấm dứt hợp đồng sớm",
    "sql": "SELECT c.contract_code, c.contract_data\nFROM contracts c\nJOIN rentals rnt ON rnt.id = c.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND c.status IN ('active', 'fully_signed');"
  },
  {
    "question": "Chủ nhà đã xác nhận yêu cầu gia hạn hợp đồng của tôi chưa?",
    "sql": "SELECT rnt.id AS rental_id, rnt.status, rnt.contract_end_date, rnt.contract_start_date\nFROM rentals rnt\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'pending_renewal';"
  },
  {
    "question": "Gửi cho tôi link file PDF hợp đồng đã ký",
    "sql": "SELECT c.contract_code, c.pdf_url\nFROM contracts c\nJOIN rentals rnt ON rnt.id = c.rental_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND c.pdf_url IS NOT NULL;"
  },
  {
    "question": "Tôi cần thông tin số tài khoản ngân hàng của chủ nhà để chuyển tiền",
    "sql": "SELECT u.bank_account, u.bank_name, u.first_name, u.last_name, u.phone, u.email\nFROM rentals rnt\nJOIN users u ON u.id = rnt.owner_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active';"
  },
  {
    "question": "Trạng thái yêu cầu trả phòng của tôi đang thế nào?",
    "sql": "SELECT rnt.status, rnt.termination_notice_date, rnt.termination_reason, rnt.contract_end_date\nFROM rentals rnt\nWHERE rnt.tenant_id = :tenant_id;"
  },
  {
    "question": "Trạng thái cái báo cáo sửa vòi nước hôm qua tôi gửi đã xong chưa?",
    "sql": "SELECT rmi.id, rmi.status, rmi.updated_at\nFROM room_issues rmi\nWHERE rmi.reporter_id = :tenant_id\n  AND rmi.title ILIKE '%vòi nước%'\n  AND rmi.created_at::date = current_date - INTERVAL '1 day';"
  },
  {
    "question": "Tôi muốn xem lịch sử các sự cố tôi đã báo cáo",
    "sql": "SELECT rmi.id, rmi.title, rmi.category, rmi.status, rmi.created_at\nFROM room_issues rmi\nWHERE rmi.reporter_id = :tenant_id\nORDER BY rmi.created_at DESC;"
  },
  {
    "question": "Có thông báo mới nào từ chủ nhà về việc cắt điện nước không?",
    "sql": "SELECT n.id, n.title, n.message, n.created_at\nFROM notifications n\nWHERE n.user_id = :tenant_id\n  AND (n.title ILIKE '%cắt điện%' OR n.message ILIKE '%cắt điện%' OR n.message ILIKE '%cắt nước%')\nORDER BY n.created_at DESC\nLIMIT 10;"
  },
  {
    "question": "Quy định về việc dẫn bạn bè về phòng như thế nào?",
    "sql": "SELECT rrt.name, rrt.description, rr.custom_value, rr.is_enforced\nFROM room_rules rr\nJOIN room_rule_templates rrt ON rrt.id = rr.rule_template_id\nJOIN rooms rm ON rm.id = rr.room_id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN rentals rnt ON rnt.room_instance_id = ri.id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND rrt.category = 'visitors';"
  },
  {
    "question": "Xem lại chỉ số điện nước lúc tôi mới nhận phòng bàn giao",
    "sql": "SELECT rimr.*\nFROM room_instance_meter_readings rimr\nJOIN rentals rnt ON rnt.room_instance_id = rimr.room_instance_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND rimr.created_at::date <= rnt.contract_start_date\nORDER BY rimr.created_at ASC\nLIMIT 1;"
  },
  {
    "question": "Tôi có thể nuôi mèo trong phòng hiện tại không?",
    "sql": "SELECT rrt.rule_type, rr.custom_value, rr.is_enforced\nFROM room_rules rr\nJOIN room_rule_templates rrt ON rrt.id = rr.rule_template_id\nJOIN rooms rm ON rm.id = rr.room_id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN rentals rnt ON rnt.room_instance_id = ri.id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND rrt.category = 'pets';"
  },
  {
    "question": "Phí dịch vụ vệ sinh hành lang là bao nhiêu tiền một tháng?",
    "sql": "SELECT rc.fixed_amount, rc.currency\nFROM room_costs rc\nJOIN cost_type_templates ct ON ct.id = rc.cost_type_template_id\nJOIN rooms rm ON rm.id = rc.room_id\nJOIN room_instances ri ON ri.room_id = rm.id\nJOIN rentals rnt ON rnt.room_instance_id = ri.id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active'\n  AND ct.category = 'service'\n  AND (ct.name ILIKE '%vệ sinh%' OR ct.name ILIKE '%cleaning%');"
  },
  {
    "question": "Cách liên hệ nhanh nhất với bảo vệ tòa nhà hoặc chủ nhà",
    "sql": "SELECT u.first_name, u.last_name, u.phone, u.email\nFROM rentals rnt\nJOIN users u ON u.id = rnt.owner_id\nWHERE rnt.tenant_id = :tenant_id\n  AND rnt.status = 'active';"
  }
]
